# Self-Evolution Skill - æŠ€èƒ½è‡ªæˆ‘è¿›åŒ–ç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

Self-Evolution æ˜¯ä¸€ä¸ª**å…ƒçº§ (Meta-level) Skill**ï¼Œèƒ½å¤Ÿç›‘æ§ã€åˆ†æå’Œä¼˜åŒ–æ‰€æœ‰å…¶ä»–æŠ€èƒ½çš„è¡¨ç°ï¼Œå®ç°æŠ€èƒ½ç³»ç»Ÿçš„è‡ªæˆ‘è¿›åŒ–å’ŒæŒç»­æ”¹è¿›ã€‚

### æ ¸å¿ƒèƒ½åŠ›

1. **è´¨é‡è¯„ä¼°** - åˆ†æç”Ÿæˆçš„æç¤ºè¯å’Œè¾“å‡ºè´¨é‡
2. **åé¦ˆå­¦ä¹ ** - ä»ç”¨æˆ·ä¿®æ”¹å’Œè¯„ä»·ä¸­å­¦ä¹ 
3. **æ¨¡å¼å‘ç°** - è¯†åˆ«é«˜é¢‘ç»„åˆå’ŒæˆåŠŸæ¨¡å¼
4. **æƒé‡ä¼˜åŒ–** - è‡ªåŠ¨è°ƒæ•´å…ƒç´ å¤ç”¨æ€§è¯„åˆ†
5. **æ¡†æ¶è¿›åŒ–** - æ”¹è¿› skill é…ç½®å’Œè§„åˆ™
6. **çŸ¥è¯†è¿ç§»** - è·¨é¢†åŸŸçŸ¥è¯†å¤ç”¨å’Œè¿ç§»

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
Self-Evolution Skill
â”œâ”€â”€ æ¨¡å—1: è´¨é‡è¯„ä¼°å™¨ (Quality Evaluator)
â”‚   â””â”€â”€ åˆ†æç”Ÿæˆå†…å®¹çš„è´¨é‡æŒ‡æ ‡
â”œâ”€â”€ æ¨¡å—2: åé¦ˆå­¦ä¹ å™¨ (Feedback Learner)
â”‚   â””â”€â”€ ä»ç”¨æˆ·ä¿®æ”¹ä¸­æå–æ”¹è¿›ç‚¹
â”œâ”€â”€ æ¨¡å—3: æ¨¡å¼å‘ç°å™¨ (Pattern Discoverer)
â”‚   â””â”€â”€ è¯†åˆ«é«˜é¢‘å…ƒç´ ç»„åˆå’ŒæˆåŠŸæ¨¡å¼
â”œâ”€â”€ æ¨¡å—4: æƒé‡ä¼˜åŒ–å™¨ (Weight Optimizer)
â”‚   â””â”€â”€ è‡ªåŠ¨è°ƒæ•´å…ƒç´ å¤ç”¨æ€§è¯„åˆ†
â”œâ”€â”€ æ¨¡å—5: æ¡†æ¶è¿›åŒ–å™¨ (Framework Evolver)
â”‚   â””â”€â”€ ä¼˜åŒ– skill é…ç½®å’Œè§„åˆ™
â””â”€â”€ æ¨¡å—6: çŸ¥è¯†è¿ç§»å™¨ (Knowledge Transferer)
    â””â”€â”€ è·¨é¢†åŸŸçŸ¥è¯†å¤ç”¨å’Œè¿ç§»
```

---

## ğŸ“Š æ•°æ®æ”¶é›†æœºåˆ¶

### è‡ªåŠ¨æ”¶é›†æ•°æ®

æ¯æ¬¡ skill æ‰§è¡Œæ—¶è‡ªåŠ¨è®°å½•ï¼š

```json
{
  "session_id": "sess_20260110_001",
  "timestamp": "2026-01-10T10:30:00Z",
  "skill_name": "ui-ux-pro-max",
  "trigger": {
    "user_request": "è®¾è®¡ SaaS å®šä»·é¡µé¢",
    "detected_keywords": ["saas", "pricing", "page", "design"],
    "context": {
      "tech_stack": "html-tailwind",
      "project_type": "landing-page"
    }
  },
  "execution": {
    "searches_performed": [
      {"domain": "product", "query": "saas pricing", "results": 3},
      {"domain": "style", "query": "minimalism modern", "results": 5},
      {"domain": "color", "query": "saas", "results": 2}
    ],
    "elements_used": {
      "styles": ["minimalism", "glassmorphism"],
      "colors": ["#0F172A", "#3B82F6", "#F3F4F6"],
      "fonts": ["Inter", "Space Grotesk"],
      "components": ["pricing-card", "cta-button", "feature-grid"]
    },
    "duration_ms": 1250
  },
  "output": {
    "code_lines": 450,
    "components_count": 8,
    "has_responsive": true,
    "has_dark_mode": true
  },
  "user_feedback": {
    "modified": false,
    "rating": null,
    "comments": []
  }
}
```

### åé¦ˆæ”¶é›†æ–¹å¼

1. **éšå¼åé¦ˆ** - è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·ä¿®æ”¹
   - ä»£ç ä¿®æ”¹ç‡ï¼ˆä¿®æ”¹è¡Œæ•° / æ€»è¡Œæ•°ï¼‰
   - ä¿®æ”¹ç±»å‹ï¼ˆæ ·å¼ã€ç»“æ„ã€é€»è¾‘ï¼‰
   - ä¿®æ”¹æ—¶é—´ï¼ˆç”Ÿæˆåå¤šä¹…ä¿®æ”¹ï¼‰

2. **æ˜¾å¼åé¦ˆ** - ç”¨æˆ·ä¸»åŠ¨è¯„ä»·
   - è´¨é‡è¯„åˆ†ï¼ˆ1-5æ˜Ÿï¼‰
   - å…·ä½“é—®é¢˜æ ‡æ³¨
   - æ”¹è¿›å»ºè®®

3. **ä½¿ç”¨åé¦ˆ** - é•¿æœŸä½¿ç”¨æ•°æ®
   - å¤ç”¨é¢‘ç‡
   - è¿­ä»£æ¬¡æ•°
   - æœ€ç»ˆä¿ç•™ç‡

---

## ğŸ“¦ å®ç°çŠ¶æ€

### âœ… Phase 1: æ•°æ®æ”¶é›†ç³»ç»Ÿï¼ˆå·²å®Œæˆï¼‰

**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª

**åŒ…å«ç»„ä»¶**:
- `hooks/record-execution.js` - PostToolUse Hookï¼Œè‡ªåŠ¨è®°å½•æ‰§è¡Œæ•°æ®
- `hooks/collect-feedback.js` - SessionEnd Hookï¼Œæ”¶é›†ç”¨æˆ·åé¦ˆ
- `hooks/detect-modifications.js` - OnFileEdit Hookï¼Œå®æ—¶è¿½è¸ªä¿®æ”¹
- `scripts/cleanup.py` - æ•°æ®æ¸…ç†å’Œå½’æ¡£å·¥å…·
- `scripts/weekly_report.py` - å‘¨æŠ¥ç”Ÿæˆå·¥å…·
- `config.yaml` - ç»Ÿä¸€é…ç½®æ–‡ä»¶
- `data/` - æ•°æ®å­˜å‚¨ç›®å½•ç»“æ„

**æ•°æ®æµ**:
```
Skill æ‰§è¡Œ â†’ record-execution.js â†’ è´¨é‡è¯„ä¼° â†’ ä¿å­˜æ‰§è¡Œè®°å½•
ç”¨æˆ·ä¿®æ”¹ â†’ detect-modifications.js â†’ è¿½è¸ªä¿®æ”¹ â†’ ä¿å­˜ä¿®æ”¹è®°å½•
ä¼šè¯ç»“æŸ â†’ collect-feedback.js â†’ åˆ†ææ»¡æ„åº¦ â†’ ä¿å­˜åé¦ˆè®°å½•
```

### âœ… Phase 2: æƒé‡ä¼˜åŒ–ç³»ç»Ÿï¼ˆå·²å®Œæˆï¼‰

**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª

**åŒ…å«ç»„ä»¶**:
- `scripts/weight_optimizer.py` - æƒé‡ä¼˜åŒ–ä¸»æ¨¡å—
  - åŸºäºè´¨é‡å’Œä½¿ç”¨é¢‘ç‡è®¡ç®—æƒé‡
  - æ—¶é—´è¡°å‡ï¼ˆåŠè¡°æœŸ 60 å¤©ï¼‰
  - å¹³æ»‘å› å­é˜²æ­¢è¿‡åº¦æ³¢åŠ¨
  - æ”¯æŒå¢é‡æ›´æ–°
- `scripts/ab_testing.py` - A/B æµ‹è¯•ç»Ÿè®¡éªŒè¯
  - Welch's t-test æ˜¾è‘—æ€§æ£€éªŒ
  - Cohen's d æ•ˆåº”é‡è®¡ç®—
  - ç½®ä¿¡åŒºé—´è¯„ä¼°

**ç®—æ³•**:
```python
Weight(t) = Î± Ã— Quality + (1-Î±) Ã— Usage_Frequency
          Ã— Decay_Factor(t) Ã— (1 - Smoothing)
          + Previous_Weight Ã— Smoothing
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä¼˜åŒ–æƒé‡ï¼ˆåˆ†ææœ€è¿‘ 30 å¤©æ•°æ®ï¼‰
python scripts/weight_optimizer.py --days 30

# A/B æµ‹è¯•ï¼ˆå¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬ï¼‰
python scripts/ab_testing.py version_a.json version_b.json
```

### âœ… Phase 3: æ ¸å¿ƒåˆ†ææ¨¡å—ï¼ˆå·²å®Œæˆï¼‰

**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª

**åŒ…å«ç»„ä»¶**:

#### 1. è´¨é‡è¯„ä¼°å™¨ (`quality_evaluator.py`)
- **5 ç»´åº¦è¯„ä¼°**:
  - Completeness (å®Œæ•´æ€§) - æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…éœ€å…ƒç´ 
  - Consistency (ä¸€è‡´æ€§) - ä»£ç é£æ ¼ã€å‘½åç»Ÿä¸€æ€§
  - Professionalism (ä¸“ä¸šæ€§) - æœ€ä½³å®è·µéµå¾ªåº¦
  - Performance (æ€§èƒ½) - ä»£ç æ•ˆç‡å’Œèµ„æºä½¿ç”¨
  - Maintainability (å¯ç»´æŠ¤æ€§) - å¯è¯»æ€§ã€æ¨¡å—åŒ–ç¨‹åº¦
- **ç»¼åˆè¯„åˆ†**: åŠ æƒå¹³å‡ï¼Œè¾“å‡º 0-1 èŒƒå›´åˆ†æ•°
- **é—®é¢˜è¯Šæ–­**: è‡ªåŠ¨è¯†åˆ«å¹¶åˆ—å‡ºé—®é¢˜æ¸…å•

**ä½¿ç”¨**:
```bash
python scripts/quality_evaluator.py execution_data.json
```

#### 2. æ¨¡å¼å‘ç°å™¨ (`pattern_discovery.py`)
- **Apriori ç®—æ³•**: é¢‘ç¹é¡¹é›†æŒ–æ˜
- **æˆåŠŸæ¨¡å¼è¯†åˆ«**: è¯†åˆ«å¯¼è‡´é«˜è´¨é‡è¾“å‡ºçš„å…ƒç´ ç»„åˆ
- **å¤±è´¥æ¨¡å¼è¯†åˆ«**: è¯†åˆ«åº”é¿å…çš„åæ¨¡å¼
- **æœç´¢åºåˆ—åˆ†æ**: è¯†åˆ«æœ‰æ•ˆçš„æœç´¢æµç¨‹

**ä½¿ç”¨**:
```bash
python scripts/pattern_discovery.py --days 30 --min-support 0.1
```

#### 3. çŸ¥è¯†è¿ç§»å™¨ (`knowledge_transfer.py`)
- **è·¨åŸŸç›¸ä¼¼åº¦**: ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
- **æ¨¡å¼é€‚é…æ€§**: è¯„ä¼°æ¨¡å¼åœ¨ç›®æ ‡åŸŸçš„é€‚ç”¨æ€§
- **è¿ç§»æ¨è**: ä¸ºæ–°é¢†åŸŸæä¾›åŸºäºç›¸ä¼¼åŸŸçš„æ¨è
- **æ”¯æŒ 10+ äº§å“ç±»å‹**: SaaS, ç”µå•†, ä½œå“é›†, åšå®¢, ä»ªè¡¨æ¿ç­‰

**ä½¿ç”¨**:
```bash
python scripts/knowledge_transfer.py --days 90 --similarity 0.6
```

### â³ Phase 4: é«˜çº§åŠŸèƒ½ï¼ˆè®¡åˆ’ä¸­ï¼‰

- æ¡†æ¶è¿›åŒ–å™¨ (Framework Evolver) - è‡ªåŠ¨ä¼˜åŒ– Skill é…ç½®
- å®æ—¶ä»ªè¡¨æ¿ (Dashboard) - å¯è§†åŒ–åˆ†æç•Œé¢
- è‡ªåŠ¨æ¨¡æ¿ç”Ÿæˆ (Template Generator) - åŸºäºæ¨¡å¼è‡ªåŠ¨ç”Ÿæˆæ¨¡æ¿

---

## ğŸ§  å…­å¤§æ ¸å¿ƒæ¨¡å—

### æ¨¡å—1: è´¨é‡è¯„ä¼°å™¨ (Quality Evaluator)

**èŒè´£**: è‡ªåŠ¨è¯„ä¼°ç”Ÿæˆå†…å®¹çš„è´¨é‡

#### è¯„ä¼°ç»´åº¦

| ç»´åº¦ | æŒ‡æ ‡ | è®¡ç®—æ–¹æ³• |
|------|------|----------|
| **å®Œæ•´æ€§** | Completeness Score | å¿…éœ€å…ƒç´ è¦†ç›–ç‡ Ã— 100% |
| **ä¸€è‡´æ€§** | Consistency Score | æ ·å¼ç»Ÿä¸€åº¦ Ã— è®¾è®¡ç³»ç»ŸåŒ¹é…åº¦ |
| **ä¸“ä¸šæ€§** | Professionalism | æœ€ä½³å®è·µéµå®ˆç‡ Ã— æ— éšœç¢åˆè§„ç‡ |
| **æ€§èƒ½** | Performance | ä»£ç æ•ˆç‡ Ã— åŠ è½½é€Ÿåº¦é¢„ä¼° |
| **å¯ç»´æŠ¤æ€§** | Maintainability | ä»£ç ç»“æ„æ¸…æ™°åº¦ Ã— æ³¨é‡Šè´¨é‡ |

#### è¯„åˆ†ç®—æ³•

```python
def calculate_quality_score(output):
    scores = {
        'completeness': check_required_elements(output),
        'consistency': check_design_consistency(output),
        'professionalism': check_best_practices(output),
        'performance': estimate_performance(output),
        'maintainability': analyze_code_structure(output)
    }

    # åŠ æƒå¹³å‡
    weights = {
        'completeness': 0.25,
        'consistency': 0.20,
        'professionalism': 0.25,
        'performance': 0.15,
        'maintainability': 0.15
    }

    total_score = sum(scores[k] * weights[k] for k in scores)
    return {
        'total': total_score,
        'breakdown': scores,
        'grade': get_grade(total_score)
    }
```

#### è‡ªåŠ¨æ”¹è¿›å»ºè®®

```python
def generate_improvement_suggestions(quality_report):
    suggestions = []

    if quality_report['completeness'] < 0.8:
        suggestions.append({
            'type': 'missing_elements',
            'severity': 'high',
            'message': 'ç¼ºå°‘å¿…éœ€å…ƒç´ ',
            'missing': find_missing_elements(output)
        })

    if quality_report['consistency'] < 0.7:
        suggestions.append({
            'type': 'inconsistent_styling',
            'severity': 'medium',
            'message': 'æ ·å¼ä¸ä¸€è‡´',
            'conflicts': find_style_conflicts(output)
        })

    return suggestions
```

---

### æ¨¡å—2: åé¦ˆå­¦ä¹ å™¨ (Feedback Learner)

**èŒè´£**: ä»ç”¨æˆ·ä¿®æ”¹ä¸­æå–æ”¹è¿›ç‚¹

#### ä¿®æ”¹æ£€æµ‹

```python
def detect_user_modifications(original, modified):
    diff = unified_diff(original, modified)

    modifications = {
        'style_changes': [],
        'structure_changes': [],
        'logic_changes': [],
        'additions': [],
        'deletions': []
    }

    for change in diff:
        category = classify_change(change)
        modifications[category].append({
            'line': change.line_number,
            'type': change.type,
            'content': change.content,
            'reason': infer_reason(change)
        })

    return modifications
```

#### å­¦ä¹ æ¨¡å¼æå–

```python
def extract_learning_patterns(modifications_history):
    patterns = []

    # é¢‘ç¹ä¿®æ”¹æ¨¡å¼
    frequent_changes = find_frequent_changes(modifications_history)
    for change in frequent_changes:
        patterns.append({
            'type': 'frequent_modification',
            'pattern': change.pattern,
            'frequency': change.count,
            'suggestion': generate_default_fix(change)
        })

    # ç”¨æˆ·åå¥½
    user_preferences = extract_preferences(modifications_history)
    patterns.append({
        'type': 'user_preference',
        'preferences': user_preferences
    })

    return patterns
```

#### è‡ªåŠ¨è°ƒæ•´è§„åˆ™

```yaml
# å­¦ä¹ åˆ°çš„è§„åˆ™ç¤ºä¾‹
learned_rules:
  - id: rule_001
    pattern: "ç”¨æˆ·æ€»æ˜¯å°† bg-white/10 æ”¹ä¸º bg-white/80"
    context: "æ˜äº®æ¨¡å¼ä¸‹çš„ç»ç’ƒå¡ç‰‡"
    action: "é»˜è®¤ä½¿ç”¨ bg-white/80"
    confidence: 0.92
    occurrences: 12

  - id: rule_002
    pattern: "ç”¨æˆ·åˆ é™¤æ‰€æœ‰ emoji å›¾æ ‡ï¼Œæ›¿æ¢ä¸º SVG"
    context: "UI å›¾æ ‡"
    action: "ç›´æ¥ä½¿ç”¨ SVG å›¾æ ‡åº“"
    confidence: 0.95
    occurrences: 18
```

---

### æ¨¡å—3: æ¨¡å¼å‘ç°å™¨ (Pattern Discoverer)

**èŒè´£**: è¯†åˆ«é«˜é¢‘å…ƒç´ ç»„åˆå’ŒæˆåŠŸæ¨¡å¼

#### é«˜é¢‘ç»„åˆæŒ–æ˜

```python
def mine_frequent_combinations(usage_history):
    # ä½¿ç”¨ Apriori ç®—æ³•æŒ–æ˜é¢‘ç¹é¡¹é›†
    combinations = []

    # æ ·å¼ç»„åˆ
    style_combinations = apriori(
        transactions=[h['elements_used']['styles'] for h in usage_history],
        min_support=0.3
    )

    # é¢œè‰²ç»„åˆ
    color_combinations = apriori(
        transactions=[h['elements_used']['colors'] for h in usage_history],
        min_support=0.4
    )

    return {
        'styles': style_combinations,
        'colors': color_combinations,
        'confidence': calculate_confidence(combinations)
    }
```

#### æˆåŠŸæ¨¡å¼è¯†åˆ«

```python
def identify_success_patterns(execution_history):
    """è¯†åˆ«é«˜è´¨é‡è¾“å‡ºçš„å…±åŒç‰¹å¾"""
    high_quality = [h for h in execution_history
                    if h['quality_score'] >= 0.85
                    and h['user_feedback']['rating'] >= 4]

    patterns = {
        'common_searches': find_common_search_sequences(high_quality),
        'common_elements': find_common_elements(high_quality),
        'common_structures': find_common_structures(high_quality)
    }

    return patterns
```

#### æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆ

```python
def generate_templates_from_patterns(patterns):
    """ä»è¯†åˆ«çš„æ¨¡å¼è‡ªåŠ¨ç”Ÿæˆè®¾è®¡æ¨¡æ¿"""
    templates = []

    for pattern in patterns['common_structures']:
        if pattern['frequency'] > 0.7:
            template = {
                'name': generate_template_name(pattern),
                'category': pattern['category'],
                'elements': pattern['elements'],
                'structure': pattern['structure'],
                'usage_count': pattern['count'],
                'success_rate': pattern['success_rate']
            }
            templates.append(template)

    return templates
```

---

### æ¨¡å—4: æƒé‡ä¼˜åŒ–å™¨ (Weight Optimizer)

**èŒè´£**: è‡ªåŠ¨è°ƒæ•´å…ƒç´ å¤ç”¨æ€§è¯„åˆ†

#### åŠ¨æ€æƒé‡è°ƒæ•´

```python
def optimize_element_weights(usage_stats):
    """åŸºäºä½¿ç”¨ç»Ÿè®¡ä¼˜åŒ–å…ƒç´ æƒé‡"""
    for element in database:
        # è®¡ç®—æ–°æƒé‡
        usage_score = calculate_usage_score(element, usage_stats)
        quality_score = calculate_quality_score(element, usage_stats)
        feedback_score = calculate_feedback_score(element, usage_stats)

        # åŠ æƒç»„åˆ
        new_weight = (
            usage_score * 0.4 +
            quality_score * 0.4 +
            feedback_score * 0.2
        )

        # å¹³æ»‘æ›´æ–°ï¼ˆé¿å…å‰§çƒˆå˜åŒ–ï¼‰
        element['weight'] = (
            element['weight'] * 0.7 +
            new_weight * 0.3
        )
```

#### è¡°å‡æœºåˆ¶

```python
def apply_time_decay(elements):
    """å¯¹é•¿æœŸæœªä½¿ç”¨çš„å…ƒç´ é™ä½æƒé‡"""
    current_time = datetime.now()

    for element in elements:
        days_since_last_use = (current_time - element['last_used']).days

        if days_since_last_use > 30:
            decay_factor = exp(-days_since_last_use / 100)
            element['weight'] *= decay_factor
```

#### è¶‹åŠ¿æ£€æµ‹

```python
def detect_trending_elements(usage_history, window_days=30):
    """æ£€æµ‹æœ€è¿‘æµè¡Œçš„è®¾è®¡å…ƒç´ """
    recent = filter_recent(usage_history, window_days)

    trends = []
    for element in database:
        recent_usage = count_usage(element, recent)
        historical_usage = count_usage(element, usage_history)

        growth_rate = recent_usage / historical_usage

        if growth_rate > 1.5:  # å¢é•¿è¶…è¿‡50%
            trends.append({
                'element': element,
                'growth_rate': growth_rate,
                'category': 'rising'
            })

    return trends
```

---

### æ¨¡å—5: æ¡†æ¶è¿›åŒ–å™¨ (Framework Evolver)

**èŒè´£**: ä¼˜åŒ– skill é…ç½®å’Œè§„åˆ™

#### è§„åˆ™ä¼˜åŒ–

```python
def optimize_framework_rules(performance_data):
    """åŸºäºæ€§èƒ½æ•°æ®ä¼˜åŒ–æ¡†æ¶è§„åˆ™"""
    rules = load_rules('prompt_framework.yaml')

    for rule in rules:
        # åˆ†æè§„åˆ™æ•ˆæœ
        effectiveness = analyze_rule_effectiveness(rule, performance_data)

        if effectiveness < 0.5:
            # è§„åˆ™æ•ˆæœå·®ï¼Œå°è¯•ä¼˜åŒ–
            optimized_rule = optimize_rule(rule, performance_data)
            rules.update(optimized_rule)

        elif effectiveness > 0.9:
            # è§„åˆ™æ•ˆæœå¥½ï¼Œæå‡ä¼˜å…ˆçº§
            rule['priority'] += 1

    save_rules(rules, 'prompt_framework.yaml')
```

#### æœç´¢ç­–ç•¥ä¼˜åŒ–

```python
def optimize_search_strategy(search_history):
    """ä¼˜åŒ–æœç´¢é¡ºåºå’Œå‚æ•°"""
    # åˆ†æå“ªäº›æœç´¢é¡ºåºæ•ˆæœæœ€å¥½
    sequences = extract_search_sequences(search_history)

    best_sequence = max(sequences, key=lambda s: s['success_rate'])

    # æ›´æ–°é»˜è®¤æœç´¢é¡ºåº
    update_default_sequence(best_sequence)

    # ä¼˜åŒ–æœç´¢å‚æ•°
    for domain in ['product', 'style', 'typography', 'color']:
        optimal_limit = find_optimal_result_limit(domain, search_history)
        update_domain_config(domain, {'limit': optimal_limit})
```

#### A/B æµ‹è¯•æ¡†æ¶

```python
def ab_test_framework_changes(change_proposal):
    """å¯¹æ¡†æ¶æ›´æ”¹è¿›è¡Œ A/B æµ‹è¯•"""
    test_config = {
        'variant_a': current_framework,  # æ§åˆ¶ç»„
        'variant_b': apply_changes(current_framework, change_proposal),  # å®éªŒç»„
        'traffic_split': 0.5,
        'duration_days': 14,
        'metrics': ['quality_score', 'user_satisfaction', 'execution_time']
    }

    results = run_ab_test(test_config)

    if results['variant_b']['quality_score'] > results['variant_a']['quality_score']:
        if results['p_value'] < 0.05:  # ç»Ÿè®¡æ˜¾è‘—
            apply_changes_permanently(change_proposal)
```

---

### æ¨¡å—6: çŸ¥è¯†è¿ç§»å™¨ (Knowledge Transferer)

**èŒè´£**: è·¨é¢†åŸŸçŸ¥è¯†å¤ç”¨å’Œè¿ç§»

#### é¢†åŸŸç›¸ä¼¼åº¦è®¡ç®—

```python
def calculate_domain_similarity(domain_a, domain_b):
    """è®¡ç®—ä¸¤ä¸ªé¢†åŸŸçš„ç›¸ä¼¼åº¦"""
    similarity_scores = {
        'element_overlap': jaccard_similarity(
            domain_a['elements'],
            domain_b['elements']
        ),
        'pattern_similarity': cosine_similarity(
            domain_a['patterns'],
            domain_b['patterns']
        ),
        'structure_similarity': structural_similarity(
            domain_a['structure'],
            domain_b['structure']
        )
    }

    return weighted_average(similarity_scores)
```

#### çŸ¥è¯†è¿ç§»

```python
def transfer_knowledge(source_domain, target_domain):
    """ä»æºé¢†åŸŸè¿ç§»çŸ¥è¯†åˆ°ç›®æ ‡é¢†åŸŸ"""
    transferable_patterns = []

    # æ‰¾å‡ºå¯è¿ç§»çš„æ¨¡å¼
    for pattern in source_domain['success_patterns']:
        if is_transferable(pattern, target_domain):
            adapted_pattern = adapt_pattern(pattern, target_domain)
            transferable_patterns.append(adapted_pattern)

    # åº”ç”¨è¿ç§»
    for pattern in transferable_patterns:
        target_domain['patterns'].append(pattern)
        log_transfer(source_domain, target_domain, pattern)

    return transferable_patterns
```

#### è·¨æ ˆé€‚é…

```python
def adapt_across_stacks(knowledge, source_stack, target_stack):
    """åœ¨ä¸åŒæŠ€æœ¯æ ˆä¹‹é—´é€‚é…çŸ¥è¯†"""
    adaptations = {
        'html-tailwind': {
            'to_react': convert_tailwind_to_react_classes,
            'to_vue': convert_tailwind_to_vue_classes,
            'to_swiftui': convert_web_to_swiftui
        },
        'react': {
            'to_vue': convert_react_to_vue,
            'to_svelte': convert_react_to_svelte
        }
    }

    adapter = adaptations[source_stack][f'to_{target_stack}']
    return adapter(knowledge)
```

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### è‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰

Self-Evolution åœ¨åå°è‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€æ˜¾å¼è°ƒç”¨ï¼š

```bash
# æ­£å¸¸ä½¿ç”¨ä»»ä½• skill
"è®¾è®¡ä¸€ä¸ª SaaS å®šä»·é¡µé¢"

# Self-Evolution è‡ªåŠ¨ï¼š
# 1. è®°å½•æ‰§è¡Œæ•°æ®
# 2. è¯„ä¼°è¾“å‡ºè´¨é‡
# 3. æ”¶é›†ç”¨æˆ·åé¦ˆ
# 4. ä¼˜åŒ–æƒé‡å’Œè§„åˆ™
```

### æ‰‹åŠ¨åˆ†æ

æŸ¥çœ‹å’Œç®¡ç†è¿›åŒ–æ•°æ®ï¼š

```bash
# æŸ¥çœ‹è´¨é‡æŠ¥å‘Š
/self-evolution:quality-report

# æŸ¥çœ‹å­¦ä¹ åˆ°çš„æ¨¡å¼
/self-evolution:patterns

# æŸ¥çœ‹æƒé‡å˜åŒ–
/self-evolution:weights

# è§¦å‘æ‰‹åŠ¨ä¼˜åŒ–
/self-evolution:optimize

# å¯¼å‡ºè¿›åŒ–æ•°æ®
/self-evolution:export
```

---

## ğŸ“ˆ è¿›åŒ–æ•ˆæœè¿½è¸ª

### å…³é”®æŒ‡æ ‡ (KPI)

| æŒ‡æ ‡ | ç›®æ ‡ | è®¡ç®—æ–¹å¼ |
|------|------|----------|
| **è´¨é‡æå‡ç‡** | æ¯æœˆ +5% | å¹³å‡è´¨é‡åˆ†å¢é•¿ç‡ |
| **ç”¨æˆ·æ»¡æ„åº¦** | â‰¥ 4.5/5 | ç”¨æˆ·è¯„åˆ†å¹³å‡å€¼ |
| **ä¿®æ”¹ç‡ä¸‹é™** | æ¯æœˆ -10% | ç”¨æˆ·ä¿®æ”¹æ¯”ä¾‹ |
| **å¤ç”¨ç‡æå‡** | æ¯æœˆ +8% | å…ƒç´ å¤ç”¨æ¬¡æ•°å¢é•¿ |
| **æ‰§è¡Œæ•ˆç‡** | < 2ç§’ | å¹³å‡æ‰§è¡Œæ—¶é—´ |

### è¿›åŒ–ä»ªè¡¨æ¿

```markdown
## Self-Evolution Dashboard

### æ•´ä½“å¥åº·åº¦: 87/100 â¬†ï¸ (+5)

#### æœ¬å‘¨è¿›åŒ–æ•°æ®
- æ€»æ‰§è¡Œæ¬¡æ•°: 245
- å¹³å‡è´¨é‡åˆ†: 0.87 (+0.03)
- ç”¨æˆ·æ»¡æ„åº¦: 4.6/5 (+0.2)
- ä¿®æ”¹ç‡: 12% (-3%)

#### å­¦ä¹ æˆæœ
- æ–°å‘ç°æ¨¡å¼: 3
- è§„åˆ™ä¼˜åŒ–: 5
- æƒé‡è°ƒæ•´: 18
- çŸ¥è¯†è¿ç§»: 2

#### Top æ”¹è¿›
1. æ˜äº®æ¨¡å¼å¯¹æ¯”åº¦é—®é¢˜è§£å†³ âœ…
2. SVG å›¾æ ‡ä½¿ç”¨æå‡ 50%
3. å“åº”å¼æ–­ç‚¹ä¼˜åŒ–
4. é¢œè‰²è°ƒè‰²æ¿æ›´æ–°

#### å¾…ä¼˜åŒ–é¡¹
1. å¤æ‚å¸ƒå±€ç”Ÿæˆè€—æ—¶è¾ƒé•¿
2. æŸäº›å­—ä½“ç»„åˆè¦†ç›–ä¸è¶³
3. åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–ç©ºé—´
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶

### self-evolution-config.yaml

```yaml
# Self-Evolution Skill é…ç½®

# æ•°æ®æ”¶é›†
data_collection:
  enabled: true
  storage_path: ".claude/skills/self-evolution/data"
  retention_days: 90
  anonymize: true

# è´¨é‡è¯„ä¼°
quality_evaluator:
  enabled: true
  evaluation_mode: "automatic"  # automatic | on_demand
  thresholds:
    completeness: 0.8
    consistency: 0.7
    professionalism: 0.75
    performance: 0.6
    maintainability: 0.7

# åé¦ˆå­¦ä¹ 
feedback_learner:
  enabled: true
  modification_tracking: true
  learning_rate: 0.3
  min_confidence: 0.7

# æ¨¡å¼å‘ç°
pattern_discoverer:
  enabled: true
  min_support: 0.3
  min_confidence: 0.6
  pattern_types:
    - "element_combinations"
    - "search_sequences"
    - "success_patterns"

# æƒé‡ä¼˜åŒ–
weight_optimizer:
  enabled: true
  update_frequency: "daily"  # hourly | daily | weekly
  smoothing_factor: 0.3
  time_decay_enabled: true
  decay_half_life_days: 60

# æ¡†æ¶è¿›åŒ–
framework_evolver:
  enabled: true
  ab_testing: true
  auto_apply_threshold: 0.95
  manual_review_threshold: 0.7

# çŸ¥è¯†è¿ç§»
knowledge_transferer:
  enabled: true
  cross_domain: true
  cross_stack: true
  similarity_threshold: 0.6

# æŠ¥å‘Š
reporting:
  dashboard_enabled: true
  dashboard_path: ".claude/skills/self-evolution/dashboard.md"
  update_frequency: "weekly"
  export_format: "json"  # json | csv | markdown
```

---

## ğŸ“ æ•°æ®æ–‡ä»¶ç»“æ„

```
.claude/skills/self-evolution/
â”œâ”€â”€ README.md                       # æœ¬æ–‡æ¡£
â”œâ”€â”€ config.yaml                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                           # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ executions/                 # æ‰§è¡Œè®°å½•
â”‚   â”‚   â”œâ”€â”€ 2026-01/
â”‚   â”‚   â”‚   â”œâ”€â”€ sess_20260110_001.json
â”‚   â”‚   â”‚   â””â”€â”€ sess_20260110_002.json
â”‚   â”‚   â””â”€â”€ index.db
â”‚   â”œâ”€â”€ feedback/                   # åé¦ˆæ•°æ®
â”‚   â”‚   â”œâ”€â”€ modifications.json
â”‚   â”‚   â”œâ”€â”€ ratings.json
â”‚   â”‚   â””â”€â”€ comments.json
â”‚   â”œâ”€â”€ patterns/                   # å‘ç°çš„æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ frequent_combinations.json
â”‚   â”‚   â”œâ”€â”€ success_patterns.json
â”‚   â”‚   â””â”€â”€ templates.json
â”‚   â”œâ”€â”€ weights/                    # æƒé‡å†å²
â”‚   â”‚   â”œâ”€â”€ current_weights.json
â”‚   â”‚   â”œâ”€â”€ weight_history.json
â”‚   â”‚   â””â”€â”€ trends.json
â”‚   â””â”€â”€ rules/                      # å­¦ä¹ åˆ°çš„è§„åˆ™
â”‚       â”œâ”€â”€ learned_rules.yaml
â”‚       â””â”€â”€ rule_history.json
â”œâ”€â”€ reports/                        # æŠ¥å‘Šè¾“å‡º
â”‚   â”œâ”€â”€ dashboard.md
â”‚   â”œâ”€â”€ weekly_reports/
â”‚   â””â”€â”€ exports/
â””â”€â”€ scripts/                        # è¾…åŠ©è„šæœ¬
    â”œâ”€â”€ analyze.py
    â”œâ”€â”€ optimize.py
    â””â”€â”€ export.py
```

---

## ğŸ”„ é›†æˆæ–¹å¼

### ä¸ç°æœ‰ Skills é›†æˆ

Self-Evolution é€šè¿‡é’©å­ç³»ç»Ÿé›†æˆï¼š

```json
{
  "hooks": [
    {
      "type": "PostToolUse",
      "tool": "Skill",
      "script": ".claude/skills/self-evolution/hooks/record-execution.js"
    },
    {
      "type": "SessionEnd",
      "script": ".claude/skills/self-evolution/hooks/collect-feedback.js"
    }
  ]
}
```

### æ•°æ®æµ

```
Skill æ‰§è¡Œ
    â†“
[PostToolUse Hook] è®°å½•æ‰§è¡Œæ•°æ®
    â†“
[è´¨é‡è¯„ä¼°å™¨] è¯„ä¼°è¾“å‡ºè´¨é‡
    â†“
[åé¦ˆå­¦ä¹ å™¨] æ£€æµ‹ç”¨æˆ·ä¿®æ”¹
    â†“
[æ¨¡å¼å‘ç°å™¨] æŒ–æ˜æˆåŠŸæ¨¡å¼
    â†“
[æƒé‡ä¼˜åŒ–å™¨] è°ƒæ•´å…ƒç´ æƒé‡
    â†“
[æ¡†æ¶è¿›åŒ–å™¨] ä¼˜åŒ–è§„åˆ™é…ç½®
    â†“
[çŸ¥è¯†è¿ç§»å™¨] è·¨åŸŸçŸ¥è¯†è¿ç§»
    â†“
[æŠ¥å‘Šç”Ÿæˆ] æ›´æ–°ä»ªè¡¨æ¿
```

---

## ğŸ¯ è¿›åŒ–ç›®æ ‡

### çŸ­æœŸç›®æ ‡ (1ä¸ªæœˆ)

- âœ… è´¨é‡åˆ†ä» 0.75 æå‡åˆ° 0.85
- âœ… ä¿®æ”¹ç‡ä» 20% é™ä½åˆ° 12%
- âœ… ç”¨æˆ·æ»¡æ„åº¦ä» 4.0 æå‡åˆ° 4.5
- âœ… å‘ç°å¹¶åˆ›å»º 10 ä¸ªé«˜è´¨é‡æ¨¡æ¿

### ä¸­æœŸç›®æ ‡ (3ä¸ªæœˆ)

- âœ… è´¨é‡åˆ†æå‡åˆ° 0.90+
- âœ… ä¿®æ”¹ç‡é™ä½åˆ° 8%
- âœ… ç”¨æˆ·æ»¡æ„åº¦è¾¾åˆ° 4.7+
- âœ… çŸ¥è¯†è¿ç§»è¦†ç›– 5 ä¸ªé¢†åŸŸ
- âœ… æ‰§è¡Œæ•ˆç‡æå‡ 30%

### é•¿æœŸç›®æ ‡ (6ä¸ªæœˆ)

- âœ… è´¨é‡åˆ†ç¨³å®šåœ¨ 0.92+
- âœ… ä¿®æ”¹ç‡é™ä½åˆ° 5%
- âœ… ç”¨æˆ·æ»¡æ„åº¦ç¨³å®šåœ¨ 4.8+
- âœ… è‡ªåŠ¨ç”Ÿæˆ 50+ è®¾è®¡æ¨¡æ¿
- âœ… å®ç°è·¨æ ˆçŸ¥è¯†è¿ç§»
- âœ… æ¡†æ¶è§„åˆ™å®Œå…¨ä¼˜åŒ–

---

## ğŸš¨ æ³¨æ„äº‹é¡¹

### éšç§ä¿æŠ¤

- âœ… æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨
- âœ… æ”¯æŒæ•°æ®åŒ¿ååŒ–
- âœ… å¯é…ç½®æ•°æ®ä¿ç•™æœŸ
- âœ… ç”¨æˆ·å¯éšæ—¶æ¸…é™¤æ•°æ®

### æ€§èƒ½å½±å“

- âœ… æ•°æ®æ”¶é›†å¼‚æ­¥è¿›è¡Œï¼Œä¸å½±å“ä¸»æµç¨‹
- âœ… ä¼˜åŒ–å’Œåˆ†æåœ¨åå°å®šæœŸæ‰§è¡Œ
- âœ… å¯é…ç½®æ›´æ–°é¢‘ç‡
- âœ… æ”¯æŒæŒ‰éœ€ç¦ç”¨æ¨¡å—

### å®‰å…¨æ€§

- âœ… ä¸æ”¶é›†æ•æ„Ÿä»£ç å†…å®¹
- âœ… ä¸ä¸Šä¼ åˆ°å¤–éƒ¨æœåŠ¡
- âœ… æƒé™é™åˆ¶åœ¨ skill èŒƒå›´å†…
- âœ… å®Œå…¨é€æ˜å’Œå¯å®¡è®¡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ARCHITECTURE.md](./ARCHITECTURE.md) - è¯¦ç»†æ¶æ„è®¾è®¡
- [ALGORITHMS.md](./ALGORITHMS.md) - ç®—æ³•å®ç°ç»†èŠ‚
- [API.md](./API.md) - ç¼–ç¨‹æ¥å£æ–‡æ¡£
- [CHANGELOG.md](./CHANGELOG.md) - æ›´æ–°æ—¥å¿—

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®æ”¹è¿›å»ºè®®å’Œä»£ç ï¼

### æ”¹è¿›æ–¹å‘

- æ–°çš„è´¨é‡è¯„ä¼°æŒ‡æ ‡
- æ›´æ™ºèƒ½çš„æ¨¡å¼è¯†åˆ«ç®—æ³•
- è·¨æ ˆé€‚é…è§„åˆ™
- é¢†åŸŸç‰¹å®šä¼˜åŒ–
- å¯è§†åŒ–ä»ªè¡¨æ¿å¢å¼º

---

**æœ€åæ›´æ–°**: 2026-01-11
**ç‰ˆæœ¬**: 1.0.3
**çŠ¶æ€**: Phase 1-3 å·²å®Œæˆï¼Œå¯æŠ•å…¥ä½¿ç”¨
